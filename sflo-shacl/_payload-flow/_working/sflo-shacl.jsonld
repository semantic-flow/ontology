{
  "@context": {
    "@base": "https://semantic-flow.github.io/ontology/semantic-flow-shacl/",
    "owl": "http://www.w3.org/2002/07/owl#",
    "vann": "http://purl.org/vocab/vann/",
    "sh": "http://www.w3.org/ns/shacl#",
    "rdf": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",
    "xsd": "http://www.w3.org/2001/XMLSchema#",
    "dcat": "http://www.w3.org/ns/dcat#",
    "dcterms": "http://purl.org/dc/terms/",
    "formats": "http://www.w3.org/ns/formats/",
    "sflo": "https://semantic-flow.github.io/ontology/semantic-flow-ontology/"
  },
  "@graph": [
    {
      "@id": "",
      "@type": "owl:Ontology",
      "dcterms:title": "Semantic Flow SHACL Shapes",
      "dcterms:description": "SHACL shapes for validating Semantic Flow data structures and operational invariants.",
      "vann:preferredNamespacePrefix": "sflo-shacl",
      "vann:preferredNamespaceUri": "https://semantic-flow.github.io/ontology/semantic-flow-shacl/"
    },
    {
      "@id": "FlowSliceShape/",
      "@type": "sh:NodeShape",
      "sh:targetClass": {
        "@id": "sflo:FlowSlice/"
      },
      "sh:property": [
        {
          "@id": "FlowSliceShape/#distributionProperty",
          "@type": "sh:PropertyShape",
          "sh:path": {
            "@id": "dcat:distribution"
          },
          "sh:minCount": 0,
          "sh:nodeKind": {
            "@id": "sh:IRI"
          },
          "sh:class": {
            "@id": "sflo:Distribution/"
          },
          "sh:message": "If present, dcat:distribution values MUST be IRIs of type sflo:Distribution/."
        }
      ]
    },
    {
      "@id": "DistributionShape/",
      "@type": "sh:NodeShape",
      "sh:targetClass": {
        "@id": "sflo:Distribution/"
      },
      "sh:property": [
        {
          "@id": "DistributionShape/#downloadURLProperty",
          "@type": "sh:PropertyShape",
          "sh:path": {
            "@id": "dcat:downloadURL"
          },
          "sh:minCount": 1,
          "sh:nodeKind": {
            "@id": "sh:IRI"
          },
          "sh:message": "sflo:Distribution/ MUST have at least one dcat:downloadURL (as an IRI)."
        },
        {
          "@id": "DistributionShape/#formatProperty",
          "@type": "sh:PropertyShape",
          "sh:path": {
            "@id": "dcterms:format"
          },
          "sh:minCount": 0,
          "sh:nodeKind": {
            "@id": "sh:IRI"
          },
          "sh:message": "If present, dcterms:format MUST be an IRI (prefer formats:*)."
        }
      ]
    },
    {
      "@id": "DistributionFormatRestrictionShape/",
      "@type": "sh:NodeShape",
      "sh:targetClass": {
        "@id": "sflo:Distribution/"
      },
      "sh:property": [
        {
          "@id": "DistributionFormatRestrictionShape/#allowedFormatsProperty",
          "@type": "sh:PropertyShape",
          "sh:path": {
            "@id": "dcterms:format"
          },
          "sh:minCount": 0,
          "sh:in": {
            "@list": [
              {
                "@id": "formats:Turtle"
              },
              {
                "@id": "formats:TriG"
              },
              {
                "@id": "formats:N-Triples"
              },
              {
                "@id": "formats:N-Quads"
              },
              {
                "@id": "formats:JSON-LD"
              },
              {
                "@id": "formats:RDF_XML"
              }
            ]
          },
          "sh:message": "If present, dcterms:format MUST be one of the allowed RDF syntaxes (formats:*)."
        }
      ]
    },
    {
      "@id": "PlatformElementResourcePageShape/",
      "@type": "sh:NodeShape",
      "sh:targetClass": {
        "@id": "sflo:PlatformElement/"
      },
      "sh:property": {
        "@id": "PlatformElementResourcePageShape/#hasResourcePageProperty",
        "@type": "sh:PropertyShape",
        "sh:path": {
          "@id": "sflo:hasResourcePage/"
        },
        "sh:minCount": 1,
        "sh:maxCount": 1,
        "sh:class": {
          "@id": "sflo:ResourcePage/"
        },
        "sh:message": "Every sflo:PlatformElement/ must have exactly one sflo:hasResourcePage/ value, and it must be a sflo:ResourcePage/."
      }
    },
    {
      "@id": "ResourcePageNotPlatformElementShape/",
      "@type": "sh:NodeShape",
      "sh:targetClass": {
        "@id": "sflo:ResourcePage/"
      },
      "sh:not": {
        "@id": "ResourcePageNotPlatformElementShape/#notPlatformElement",
        "@type": "sh:NodeShape",
        "sh:class": {
          "@id": "sflo:PlatformElement/"
        }
      },
      "sh:message": "A sflo:ResourcePage/ must not also be typed as a sflo:PlatformElement/."
    }
  ]
}
